# Практика bash-скриптинга

- i. В файле /var/log/anaconda/syslog найти и вывести самое часто встречающееся слово длиной не менее 4
букв. Слово должно состоять только из английских букв и отделяться пробелами или знаками
препинания. Поиск слова должен быть не чувствителен к регистру, то есть слова word, Word и WORD
считаются за одно слово.

- ii. Вывести на экран PID процесса, запущенного последним (имеющим максимальное время запуска на
момент запуска этого скрипта).

- iii. Создайте три фоновых процесса, выполняющих одинаковый бесконечный цикл вычисления
(например, перемножение двух чисел). Определите их PIDы. Создайте скрипт, в параметре запуска
которого будет передаваться один из определенных выше PIDов. Скрипт должен в автоматическом
режиме обеспечивать, чтобы процесс с переданным PIDом использовал процессорное время в
диапазоне от 10% до 20%. Запустив в другой консоли top удостоверьтесь, что результат достигнут.

- iv. Создайте пару скриптов: генератор и обработчик. Процесс «Генератор» считывает с консоли строки в
бесконечном цикле и передает строки процессу «Обработчик» с помощью именованного канала.
Процесс «Обработчик» должен осуществлять следующую обработку переданных строк: если строка
содержит единственный символ «+», то процесс обработчик переключает режим на «сложение» и
ждет ввода численных данных. Если строка содержит единственный символ «*», то обработчик
переключает режим на «умножение» и ждет ввода численных данных. Если строка содержит целое
число, то обработчик осуществляет текущую активную операцию (выбранный режим) над текущим
значением вычисляемой переменной и считанным значением (например, складывает или перемножает
результат предыдущего вычисления со считанным числом) и выводит результат на экран. При запуске
скрипта режим устанавливается в «сложение», а вычисляемая переменная приравнивается к 1. В
случае получения строки QUIT скрипт «Обработчик» выдает сообщение о плановой остановке и оба
скрипта завершают работу. В случае получения любых других значений строки оба скрипта
завершают работу с сообщением об ошибке входных данных.

- v. Создайте пару скриптов: генератор и обработчик. Процесс «Генератор» считывает с консоли строки в
бесконечном цикле. Если считанная строка содержит единственный символ «+», он посылает
процессу «Обработчик» сигнал USR1. Если строка содержит единственный символ «*», генератор
посылает обработчику сигнал USR2. Если строка содержит слово TERM, генератор посылает
обработчику сигнал SIGTERM и завершает свою работу. Другие значения входных строк
игнорируются. Обработчик добавляет 2 или умножает на 2 текущее значение обрабатываемого числа
(начальное значение принять на единицу) в зависимости от полученного пользовательского сигнала и
выводит результат на экран. Вычисление и вывод производятся один раз в секунду. Получив сигнал
SIGTERM, «Обработчик» завершает свою работу, выведя сообщения о завершении работы по сигналу
от другого процесса.

# linux administration

## Монтирование разделов и файловые системы

1. Создайте новый раздел, начинающийся с первого свободного сектора и имеющий размер
300 МБайт.
2. Создайте на созданном разделе файловую систему ext4 с размером блока 4096 байт.
3. Выведите на экран текущее состояние параметров, записанных в суперблоке созданной
файловой системы.
4. Настройте эту файловую систему таким образом, чтобы ее автоматическая проверка
запускалась через 2 месяца или каждое второе монтирование файловой системы.
5. Создайте в каталоге /mnt подкаталог newdisk и подмонтируйте в него созданную
файловую систему.
6. Создайте каталог с любым именем в смонтированной файловой системе и в нем создайте
скрипт с правом исполнения любым пользователем.
7. Включите автомонтирование при запуске операционной системы созданной файловой
системы в /mnt/newdisk таким образом, чтобы было невозможно запускать
исполняемые файлы, находящиеся в этой системе, а также с отключением возможности
записи времени последнего доступа к файлу для ускорения работы с этой файловой 
системой. Перезагрузите операционную систему и проверьте доступность файловой
системы. Проверьте невозможность запустить исполняемый файл, если он хранится в этой
файловой системе.
8. Увеличьте размер раздела и файловой системы до 350 МБайт. Проверьте, что размер
файловой системы изменился.
9. Создайте новый раздел, размером в 12 Мбайт. Настройте файловую систему, созданную в
пункте 3 таким образом, чтобы ее журнал был расположен на разделе, созданном в этом
пункте.
10. Создайте два новых раздела, размером в 100 МБайт каждый.
11. Создайте группу разделов LVM и логический том LVM над созданными в предыдущем
пункте разделами. Создайте файловую систему ext4 для созданного логического тома
LVM и смонтируйте её в предварительно созданный каталог supernewdisk в каталоге
mnt.
